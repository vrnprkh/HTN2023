{"ast":null,"code":"import OpenAI from \"openai\";\nimport { getDocFromOutput, parseArrayToText, parseCode, parseExpl } from \"../parsers/parser\";\nimport { mainPrompt } from \"../prompts/prompt\";\nexport async function createExplainationOpenAi(userInput, API_KEY) {\n  const openai = new OpenAI({\n    apiKey: process.env.OPEN_AI_KEY\n  });\n  const completion = await openai.chat.completions.create({\n    messages: [{\n      role: \"system\",\n      content: mainPrompt\n    }, {\n      role: \"user\",\n      content: parseArrayToText(parseCode(userInput))\n    }],\n    model: \"gpt-3.5-turbo-16k\"\n  });\n  let output = getDocFromOutput(parseExpl(completion.choices[0].message.content));\n  return output;\n}","map":{"version":3,"names":["OpenAI","getDocFromOutput","parseArrayToText","parseCode","parseExpl","mainPrompt","createExplainationOpenAi","userInput","API_KEY","openai","apiKey","process","env","OPEN_AI_KEY","completion","chat","completions","create","messages","role","content","model","output","choices","message"],"sources":["/home/zain/HTN2023/src/utils/api/openAi.ts"],"sourcesContent":["import OpenAI from \"openai\";\nimport { getDocFromOutput, parseArrayToText, parseCode, parseExpl } from \"../parsers/parser\";\nimport { mainPrompt } from \"../prompts/prompt\";\n\nexport async function createExplainationOpenAi(userInput: string, API_KEY: string) {\n    const openai = new OpenAI({\n        apiKey: process.env.OPEN_AI_KEY,\n    });\n    const completion = await openai.chat.completions.create({\n        messages: [{ role: \"system\", content: mainPrompt }, {role: \"user\", content: parseArrayToText(parseCode(userInput))}],\n        model: \"gpt-3.5-turbo-16k\",\n      });\n\n\n      let output = getDocFromOutput(parseExpl(completion.choices[0].message.content))\n      return output;\n}\n  "],"mappings":"AAAA,OAAOA,MAAM,MAAM,QAAQ;AAC3B,SAASC,gBAAgB,EAAEC,gBAAgB,EAAEC,SAAS,EAAEC,SAAS,QAAQ,mBAAmB;AAC5F,SAASC,UAAU,QAAQ,mBAAmB;AAE9C,OAAO,eAAeC,wBAAwBA,CAACC,SAAiB,EAAEC,OAAe,EAAE;EAC/E,MAAMC,MAAM,GAAG,IAAIT,MAAM,CAAC;IACtBU,MAAM,EAAEC,OAAO,CAACC,GAAG,CAACC;EACxB,CAAC,CAAC;EACF,MAAMC,UAAU,GAAG,MAAML,MAAM,CAACM,IAAI,CAACC,WAAW,CAACC,MAAM,CAAC;IACpDC,QAAQ,EAAE,CAAC;MAAEC,IAAI,EAAE,QAAQ;MAAEC,OAAO,EAAEf;IAAW,CAAC,EAAE;MAACc,IAAI,EAAE,MAAM;MAAEC,OAAO,EAAElB,gBAAgB,CAACC,SAAS,CAACI,SAAS,CAAC;IAAC,CAAC,CAAC;IACpHc,KAAK,EAAE;EACT,CAAC,CAAC;EAGF,IAAIC,MAAM,GAAGrB,gBAAgB,CAACG,SAAS,CAACU,UAAU,CAACS,OAAO,CAAC,CAAC,CAAC,CAACC,OAAO,CAACJ,OAAO,CAAC,CAAC;EAC/E,OAAOE,MAAM;AACnB"},"metadata":{},"sourceType":"module","externalDependencies":[]}