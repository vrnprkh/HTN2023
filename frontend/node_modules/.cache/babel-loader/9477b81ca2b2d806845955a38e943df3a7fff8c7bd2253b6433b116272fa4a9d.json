{"ast":null,"code":"import OpenAI from \"openai\";\nimport { getDocFromOutput, parseArrayToText, parseCode, parseExpl } from \"../parsers/parser\";\nimport { mainPrompt } from \"../prompts/prompt\";\nexport async function createExplainationOpenAi(userInput, API_KEY) {\n  const openai = new OpenAI({\n    apiKey: API_KEY,\n    dangerouslyAllowBrowser: true\n  });\n  const completion = await openai.chat.completions.create({\n    messages: [{\n      role: \"system\",\n      content: mainPrompt\n    }, {\n      role: \"user\",\n      content: parseArrayToText(parseCode(userInput))\n    }],\n    model: \"gpt-3.5-turbo-16k\"\n  });\n  let output = getDocFromOutput(parseExpl(completion.choices[0].message.content));\n  return output;\n}","map":{"version":3,"names":["OpenAI","getDocFromOutput","parseArrayToText","parseCode","parseExpl","mainPrompt","createExplainationOpenAi","userInput","API_KEY","openai","apiKey","dangerouslyAllowBrowser","completion","chat","completions","create","messages","role","content","model","output","choices","message"],"sources":["/home/zain/HTN2023/src/utils/api/openAi.ts"],"sourcesContent":["import OpenAI from \"openai\";\nimport { getDocFromOutput, parseArrayToText, parseCode, parseExpl } from \"../parsers/parser\";\nimport { mainPrompt } from \"../prompts/prompt\";\n\n\n\n\nexport async function createExplainationOpenAi(userInput: string, API_KEY: string) {\n    const openai = new OpenAI({\n        apiKey: API_KEY,\n        dangerouslyAllowBrowser: true,\n    });\n    const completion = await openai.chat.completions.create({\n        messages: [{ role: \"system\", content: mainPrompt }, {role: \"user\", content: parseArrayToText(parseCode(userInput))}],\n        model: \"gpt-3.5-turbo-16k\",\n      });\n\n\n      let output = getDocFromOutput(parseExpl(completion.choices[0].message.content))\n      return output;\n}\n  "],"mappings":"AAAA,OAAOA,MAAM,MAAM,QAAQ;AAC3B,SAASC,gBAAgB,EAAEC,gBAAgB,EAAEC,SAAS,EAAEC,SAAS,QAAQ,mBAAmB;AAC5F,SAASC,UAAU,QAAQ,mBAAmB;AAK9C,OAAO,eAAeC,wBAAwBA,CAACC,SAAiB,EAAEC,OAAe,EAAE;EAC/E,MAAMC,MAAM,GAAG,IAAIT,MAAM,CAAC;IACtBU,MAAM,EAAEF,OAAO;IACfG,uBAAuB,EAAE;EAC7B,CAAC,CAAC;EACF,MAAMC,UAAU,GAAG,MAAMH,MAAM,CAACI,IAAI,CAACC,WAAW,CAACC,MAAM,CAAC;IACpDC,QAAQ,EAAE,CAAC;MAAEC,IAAI,EAAE,QAAQ;MAAEC,OAAO,EAAEb;IAAW,CAAC,EAAE;MAACY,IAAI,EAAE,MAAM;MAAEC,OAAO,EAAEhB,gBAAgB,CAACC,SAAS,CAACI,SAAS,CAAC;IAAC,CAAC,CAAC;IACpHY,KAAK,EAAE;EACT,CAAC,CAAC;EAGF,IAAIC,MAAM,GAAGnB,gBAAgB,CAACG,SAAS,CAACQ,UAAU,CAACS,OAAO,CAAC,CAAC,CAAC,CAACC,OAAO,CAACJ,OAAO,CAAC,CAAC;EAC/E,OAAOE,MAAM;AACnB"},"metadata":{},"sourceType":"module","externalDependencies":[]}